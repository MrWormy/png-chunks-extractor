import crc from '../lib/crc.js'
import {strictEqual} from 'node:assert/strict';
import {describe, it} from 'node:test';

const b = Buffer.from([0x70,0x72,0x6F,0x6D,0x70,0x74,0x00,0x70,0x61,0x69,0x6E,0x74,0x69,0x6E,0x67,0x20,0x6F,0x66,0x20,0x61,0x20,0x6D,0x61,0x6C,0x65,0x20,0x65,0x6C,0x66,0x20,0x69,0x6E,0x20,0x61,0x20,0x66,0x6F,0x72,0x65,0x73,0x74,0x2C,0x20,0x70,0x65,0x72,0x66,0x65,0x63,0x74,0x20,0x6C,0x69,0x67,0x68,0x74,0x2C,0x20,0x68,0x69,0x67,0x68,0x20,0x63,0x6F,0x6E,0x74,0x72,0x61,0x73,0x74,0x2C,0x20,0x62,0x65,0x61,0x75,0x74,0x69,0x66,0x75,0x6C,0x20,0x64,0x61,0x79]);

describe('CRC', () => {
    it('should compute correct crc', (t) => {
        strictEqual(crc(b), 0x1A2976E4);
    });
})
